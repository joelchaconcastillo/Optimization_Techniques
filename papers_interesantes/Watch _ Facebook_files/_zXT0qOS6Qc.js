if (self.CavalryLogger) { CavalryLogger.start_js(["eRQqT"]); }

__d("StoriesReactionStickerMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"ReactStoryCardReactionStickerData!"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ReactStoryCardReactionStickerResponsePayload",kind:"LinkedField",name:"react_story_card_reaction_sticker",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryCardReactionSticker",kind:"LinkedField",name:"story_card_reaction_sticker",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StoriesReactionStickerMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StoriesReactionStickerMutation",selections:b},params:{id:"2107432889344441",metadata:{},name:"StoriesReactionStickerMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("StoriesReactionSticker_overlay$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null};return{kind:"SplitOperation",metadata:{derivedFrom:"StoriesReactionSticker_overlay"},name:"StoriesReactionSticker_overlay$normalization",selections:[{alias:null,args:null,concreteType:"StoryCardReactionSticker",kind:"LinkedField",name:"reaction_sticker",plural:!1,selections:[a,{alias:null,args:null,concreteType:"InspirationsStickerImageAsset",kind:"LinkedField",name:"sticker_asset",plural:!1,selections:[{alias:null,args:null,concreteType:"InspirationsStickerAnimationAssetWithType",kind:"LinkedField",name:"sticker_animation_assets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"InspirationsStickerAnimationAsset",kind:"LinkedField",name:"asset",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"keyframe_uri",storageKey:null},{alias:null,args:null,concreteType:"StoryOverlayRectangle",kind:"LinkedField",name:"initial_state_bounds",plural:!1,selections:[b,c,d,e],storageKey:null},a],storageKey:null}],storageKey:null},a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryOverlayRectangle",kind:"LinkedField",name:"bounds",plural:!1,selections:[e,b,c,d,{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("StoriesReactionSticker_overlay.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesReactionSticker_overlay",selections:[{alias:null,args:null,concreteType:"StoryCardReactionSticker",kind:"LinkedField",name:"reaction_sticker",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryOverlayRectangle",kind:"LinkedField",name:"bounds",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoriesCardOverlayPositioner_bounds"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ReactionStickerKeyframe_overlay"}],type:"StoryOverlayReactionSticker",abstractKey:null};e.exports=a}),null);
__d("ReactionStickerKeyframe_overlay.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ReactionStickerKeyframe_overlay",selections:[{alias:null,args:null,concreteType:"StoryCardReactionSticker",kind:"LinkedField",name:"reaction_sticker",plural:!1,selections:[{alias:null,args:null,concreteType:"InspirationsStickerImageAsset",kind:"LinkedField",name:"sticker_asset",plural:!1,selections:[{alias:null,args:null,concreteType:"InspirationsStickerAnimationAssetWithType",kind:"LinkedField",name:"sticker_animation_assets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"InspirationsStickerAnimationAsset",kind:"LinkedField",name:"asset",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"keyframe_uri",storageKey:null},{alias:null,args:null,concreteType:"StoryOverlayRectangle",kind:"LinkedField",name:"initial_state_bounds",plural:!1,selections:[a,b,c,d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryOverlayRectangle",kind:"LinkedField",name:"bounds",plural:!1,selections:[d,a,b,c],storageKey:null}],type:"StoryOverlayReactionSticker",abstractKey:null}}();e.exports=a}),null);
__d("ReactionStickerKeyframe.react",["CometRelay","Keyframes.react","React","emptyFunction","stylex","ReactionStickerKeyframe_overlay.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");function a(a){var c,d,e=h(g!==void 0?g:g=b("ReactionStickerKeyframe_overlay.graphql"),a.overlay),f=function(g){var h,i={height:0,key:"",keyframe_uri:"",onRepeatEnd:b("emptyFunction"),repeatCount:1,type:"AFFORDANCE",width:0,x:0,y:0};h=e==null?void 0:(h=e.reaction_sticker)==null?void 0:(h=h.sticker_asset)==null?void 0:h.sticker_animation_assets;if(!h)return null;h=(h=h.find(function(a){return g===a.type}))==null?void 0:h.asset;if(!h)return null;h=h;var k=h.initial_state_bounds;h=h.keyframe_uri;if(!k)return null;var c=k.height,d=k.width,f=k.x;k=k.y;if(typeof d!=="number"||typeof c!=="number"||typeof f!=="number"||typeof k!=="number"||typeof h!=="string")return null;i.width=d;i.height=c;i.x=f;i.y=k;i.keyframe_uri=h;i.key=a.uniqueKey;i.type=a.type;g==="TAP"&&(i.repeatCount=1,i.onRepeatEnd=function(){a.tapOnReaptEnd(a.uniqueKey)});g==="AFFORDANCE"&&(i.repeatCount=Infinity,i.onRepeatEnd=b("emptyFunction"));return i};f=f(a.type);if(!f)return null;var j=f.height,k=f.key,l=f.keyframe_uri,m=f.onRepeatEnd,n=f.repeatCount,o=f.width,p=f.x,q=f.y,r=a.containerHeight,s=a.containerWidth;c=e==null?void 0:(c=e.bounds)==null?void 0:c.width;d=e==null?void 0:(d=e.bounds)==null?void 0:d.height;if(e==null||typeof c!=="number"||typeof d!=="number")return null;var t=c*s,u=d*r;r=r*d/u;d=s*c/t;s=u/j;c=t/o;u={left:"-"+p*c+"px",position:"absolute",top:"-"+q*s+"px",transform:"scaleY("+r+") scaleX("+d+")"};return i.jsx(b("Keyframes.react"),{assetName:"reaction_sticker",className:f.type==="TAP"?"pmk7jnqg hzruof5a":"",height:s,onRepeatEnd:m,projectName:"facebook_stories",repeatCount:n,source:l,style:u,width:c},k)}e.exports=a}),null);
__d("StoriesReactionSticker.react",["CometRelay","FBLogger","React","ReactionStickerKeyframe.react","StoriesCardOverlayPositioner.react","StoriesEnums","StoriesPauseReasons","StoriesUniqueID","stylex","StoriesReactionSticker_overlay.graphql","StoriesReactionStickerMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=(c=b("CometRelay")).commitMutation;c.graphql;var j=c.useFragment,k=c.useRelayEnvironment,l=b("React");d=b("React");var m=d.useRef,n=d.useState,o=b("StoriesEnums").STORY_REACTION_STICKERS_CONSTANTS;function p(a,b){var c=Date.now();return function(){c+b-Date.now()<0&&(a(),c=Date.now())}}function a(a){var c=j(g!==void 0?g:g=b("StoriesReactionSticker_overlay.graphql"),a.overlay),d=k(),e=n([{key:"",type:"AFFORDANCE"}]),f=e[0],h=e[1],r=m(null),s=m(null),t=m(0);e=p(function(){a.setPause(!0,b("StoriesPauseReasons").CLICK_ON_OVERLAY_STICKER),t.current+=1,y(),w(),r.current=window.setTimeout(function(){v()},o.HOLD_DELAY)},o.ANIMATIONS_INTERVAL_THROTTLE);var u=function(c){h(function(d){d=d.filter(function(a){return a.key!==c});d.length<2&&a.setPause(!1,b("StoriesPauseReasons").CLICK_ON_OVERLAY_STICKER);return d})},v=function a(){t.current+=1,y(),s.current=window.setTimeout(function(){w(),a()},o.ANIMATIONS_INTERVAL_THROTTLE)},w=function(){h(function(a){return[].concat(a,[{key:b("StoriesUniqueID")(),type:"TAP"}])})},x=function(){window.clearTimeout(r.current),window.clearTimeout(s.current)},y=function(){var e;e=c==null?void 0:(e=c.reaction_sticker)==null?void 0:e.id;var f=a.logger;if(e==null)return;i(d,{mutation:q,onCompleted:function(a,b){f.replyAttemptCompletedLog("reaction_sticker_react",b==null?null:b[0])},onError:function(a){f.replyAttemptCompletedLog("reaction_sticker_react",a),b("FBLogger")("fbstories").catching(a).warn("Error interacting reaction stickers. ")},variables:{input:{client_mutation_id:b("StoriesUniqueID")(),count:t.current,story_card_reaction_sticker_id:e}}})},z=a.containerHeight,A=a.containerWidth,B=c==null?void 0:c.bounds;return B==null?null:l.jsx(b("StoriesCardOverlayPositioner.react"),{bounds:B,containerHeight:z,containerWidth:A,children:l.jsx("div",{className:"k4urcfbm fi2e5rcv pmk7jnqg oqq733wu datstx6m nhd2j8a9",onMouseDown:e,onMouseLeave:x,onMouseUp:x,children:f.map(function(a,d){return l.jsx(b("ReactionStickerKeyframe.react"),{containerHeight:z,containerWidth:A,overlay:c,tapOnReaptEnd:u,type:a.type,uniqueKey:a.key},a.key)})})})}var q=h!==void 0?h:h=b("StoriesReactionStickerMutation.graphql");e.exports=a}),null);
__d("WIGIcon.react",["React","TetraIcon.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("TetraIcon.react"),babelHelpers["extends"]({},a))}e.exports=a}),null);
__d("WIGPressable.react",["CometPressable.react","React"],(function(a,b,c,d,e,f){var g=b("React");function a(a,c){return g.jsx(b("CometPressable.react"),babelHelpers["extends"]({},a,{ref:c}))}e.exports=g.forwardRef(a)}),null);